<!DOCTYPE html> 
<html> 
<head> 
	<meta charset="utf-8"> 
	<title>Web Worker 예제</title> 
	<script type="text/javascript"> 
		var worker;
		function calculate(){
			//실행 중인 워커가 있으면 정지
			if(worker)
				worker.terminate();
			var num = document.getElementById("num").value;
			worker = new Worker("worker1.js");
			worker.postMessage(num);
			
			worker.onmessage = function(event){
				alert("합은 " + event.data+" 입니다.");
			};
		}	
		function stopCalculation(){
			if(worker)
				worker.terminate();
			alert("중지하였습니다.");
		}
		function calculate1(){
			var num = document.getElementById("num").value;
			var result = 0;
			for(var i=1;i<=num;i++){
				result += i;
			}
			alert("합은 " + result+" 입니다.");
		}
	</script> 
	
	
</head> 
 
<body> 
	<h1>Web Workers 예제</h1>
	<h2>1부터 입력한 숫자까지 합을 구합니다.</h2>
	숫자 입력 : <input type="text" id="num">
	<button onclick="calculate()" >계산</button>
	<button onclick="stopCalculation()" >계산중지</button>

</body>
</html>














